import{j as e,a as x}from"./ui-B5PjYYeE.js";import{r as a,L as g}from"./vendor-qOmVjXE-.js";import{b as f,c as n}from"./index-DBuhCPqP.js";import{B as h}from"./Button-BWQtias1.js";import{f as u}from"./formatCurrency-mEhBIXkX.js";const j=a.memo(({product:s,linkDisabled:l=!1})=>{const[v,r]=a.useState(!1),[b,i]=a.useState(!1),{addToCart:c}=f();if(!s||!s._id)return console.error("Invalid product data:",s),null;const m=t=>{if(t.preventDefault(),t.stopPropagation(),s.countInStock===0){n.error("This product is out of stock");return}c(s),n.success("Added to cart")},d=t=>{console.error("Error loading image:",s.image),i(!0),t.target.src="https://via.placeholder.com/300x300?text=Image+Not+Found"},o=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative w-full pt-[100%] bg-gray-50",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:s.image?e.jsx("img",{src:s.image,alt:s.name||"Product image",className:"w-full h-full object-contain transform transition-transform duration-500 group-hover:scale-110",loading:"lazy",decoding:"async",onError:d}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx("span",{className:"text-gray-400",children:"No image available"})})}),s.isBestSeller&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white text-xs font-bold px-2 py-1 rounded",children:"Best Seller"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-[#39b54a] transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"text-lg font-medium text-gray-900",children:u(s.price)})}),s.countInStock>0?e.jsx("span",{className:"text-sm text-green-600",children:"In Stock"}):e.jsx("span",{className:"text-sm text-red-600",children:"Out of Stock"})]}),e.jsxs(h,{onClick:m,disabled:s.countInStock===0,className:"w-full",variant:s.countInStock===0?"disabled":"primary",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),s.countInStock===0?"Out of Stock":"Add to Cart"]})]})]});return e.jsx("div",{className:"group relative bg-white rounded-lg overflow-hidden transition-all duration-300 hover:shadow-lg border border-gray-200",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:l?e.jsx(o,{}):e.jsx(g,{to:`/products/${s._id}`,state:{fromCategory:!0},className:"block",children:e.jsx(o,{})})})});j.displayName="ProductCard";export{j as P};
