import{j as e}from"./ui-B5PjYYeE.js";import{r as d}from"./vendor-qOmVjXE-.js";import{u as f}from"./index-DBuhCPqP.js";import{i as p}from"./adminService-DPTglirL.js";import{F as v}from"./CurrencyDollarIcon-C73acJ_W.js";import{F as w}from"./ShoppingCartIcon-B0Y84XMM.js";import{F as N,a as y,b as R}from"./UserGroupIcon-DEMhROUh.js";import{R as i,B as C,f as $,X as T,Y as F,T as c,g as m,h as k,j as h,k as x,l as u}from"./charts-CLVDFM_Z.js";function A({title:a,titleId:l,...s},o){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},s),a?d.createElement("title",{id:l},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const L=d.forwardRef(A),n=["#39b54a","#2563eb","#7c3aed","#db2777"],P=()=>{const[a,l]=d.useState("week"),{data:s,isLoading:o,error:g}=f({queryKey:["analytics",a],queryFn:()=>p(a)});if(o)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#39b54a]"})});if(g)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-red-500",children:"Error loading analytics data"})});const j=[{name:"Total Revenue",value:`$${s==null?void 0:s.revenue.total.toFixed(2)}`,change:`${s==null?void 0:s.revenue.growth}%`,changeType:(s==null?void 0:s.revenue.growth)>=0?"increase":"decrease",icon:v},{name:"Total Orders",value:s==null?void 0:s.orders.total,change:`${s==null?void 0:s.orders.growth}%`,changeType:(s==null?void 0:s.orders.growth)>=0?"increase":"decrease",icon:w},{name:"Total Customers",value:s==null?void 0:s.customers.total,change:`${s==null?void 0:s.customers.growth}%`,changeType:(s==null?void 0:s.customers.growth)>=0?"increase":"decrease",icon:N}],b=[{value:"week",label:"Last 7 days"},{value:"month",label:"Last 30 days"},{value:"year",label:"Last 12 months"}];return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Analytics Dashboard"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"h-5 w-5 text-gray-500"}),e.jsx("select",{value:a,onChange:r=>l(r.target.value),className:"rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-[#39b54a] focus:outline-none focus:ring-[#39b54a] sm:text-sm",children:b.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:j.map(r=>e.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-white px-4 py-5 shadow transition-all duration-200 hover:shadow-lg sm:px-6 sm:py-6",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute rounded-md bg-[#39b54a] p-3",children:e.jsx(r.icon,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),e.jsx("p",{className:"ml-16 truncate text-sm font-medium text-gray-500",children:r.name})]}),e.jsxs("dd",{className:"ml-16 flex items-baseline pb-6 sm:pb-7",children:[e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.value}),e.jsxs("p",{className:`ml-2 flex items-baseline text-sm font-semibold ${r.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[r.changeType==="increase"?e.jsx(y,{className:"h-5 w-5 flex-shrink-0 self-center text-green-500","aria-hidden":"true"}):e.jsx(R,{className:"h-5 w-5 flex-shrink-0 self-center text-red-500","aria-hidden":"true"}),e.jsxs("span",{className:"sr-only",children:[r.changeType==="increase"?"Increased":"Decreased"," by"]}),r.change]})]})]},r.name))}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue by Category"}),e.jsx("div",{className:"h-80",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(C,{data:s==null?void 0:s.revenue.byCategory,children:[e.jsx($,{strokeDasharray:"3 3"}),e.jsx(T,{dataKey:"category"}),e.jsx(F,{}),e.jsx(c,{}),e.jsx(m,{}),e.jsx(k,{dataKey:"amount",fill:"#39b54a",name:"Revenue"})]})})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Orders by Status"}),e.jsx("div",{className:"h-80",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(h,{children:[e.jsx(x,{data:s==null?void 0:s.orders.byStatus,dataKey:"count",nameKey:"status",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:s==null?void 0:s.orders.byStatus.map((r,t)=>e.jsx(u,{fill:n[t%n.length]},`cell-${t}`))}),e.jsx(c,{}),e.jsx(m,{})]})})})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Distribution"}),e.jsx("div",{className:"h-80",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(h,{children:[e.jsx(x,{data:s==null?void 0:s.customers.bySource,dataKey:"count",nameKey:"source",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:s==null?void 0:s.customers.bySource.map((r,t)=>e.jsx(u,{fill:n[t%n.length]},`cell-${t}`))}),e.jsx(c,{}),e.jsx(m,{})]})})})]})]})};export{P as default};
